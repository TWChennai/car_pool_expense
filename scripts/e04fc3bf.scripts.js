"use strict";angular.module("carPoolExpenseApp",["$strap.directives","ngStorage"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).otherwise({redirectTo:"/"})}]),angular.module("carPoolExpenseApp").controller("MainCtrl",["$scope","$localStorage","$window",function(a,b,c){a.generate=function(){var b=a.input.fromDate,d=a.input.toDate,e=[];if(b>d)return c.alert("to date cannot be in the past of from date"),void 0;for(var f=moment(b).twix(d,!0).iterate("days");f.hasNext();)e.push(moment(f.next()).format("DD/MM/YYYY"));var g=e.map(function(b){var c=$.extend({},a.input);return c.day=b,c.expenditure=Math.round(c.dieselPrice*c.distance/c.mileage),c});a.records=a.records.concat(g)},a.stats=function(){return{total:a.records.reduce(function(a,b){return a+b.expenditure},0)}},a.remove=function(b,c){var d=a.records.indexOf(b);a.records.splice(d,1),c.preventDefault()},a.clear=function(){a.records=[]},a.print=function(){c.print()},a.records=b.records||[],a.input=b.input||{};var d=function(c){a.$watch(c,function(a){b[c]=a},!0)};d("records"),d("input")}]);